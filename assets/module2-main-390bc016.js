import{c as f,p as g,m}from"./footstep-1b0f56b4.js";import{b as y,g as Q,q as l,l as h}from"./quests-9d256112.js";WA.onInit().then(async()=>{try{await y(),WA.controls.disableInviteButton(),WA.controls.disableMapEditor(),console.log("Scripting API Extra ready")}catch(e){console.error(e)}const t=await Q();for(const e of t){let r;WA.room.area.onEnter(e.name).subscribe(()=>{r=WA.ui.displayActionMessage({message:`[LEERTASTE] drücken um mit ${e.npcName} zu sprechen.`,callback:()=>{var s;if(WA.chat.sendChatMessage(e.chatText,e.npcName),e.triggerQuest){const u=WA.player.state.currentQuest,i=(s=l.find(c=>c.questId===e.triggerQuest))==null?void 0:s.requireQuest;u===i&&(WA.player.state.currentQuest=e.triggerQuest)}}})}),WA.room.area.onLeave(e.name).subscribe(()=>{r&&(r.remove(),WA.chat.close())})}WA.player.onPlayerMove(async({x:e,y:r,moving:s})=>{var i,c,W;const u=await f({x:e,y:r});if(!u){(i=m)==null||i.stop();return}if(!s&&!u){(c=m)==null||c.stop();return}else(W=m)==null||W.stop(),g(u)});const n=WA.player.state.currentQuest,o=l.find(e=>e.questId===n);o&&a(o.questId),WA.player.state.onVariableChange("currentQuest").subscribe(e=>{const r=l.find(s=>s.questId===e);r&&a(r.questId)});function a(e){const r=l.find(s=>s.questId===e);r&&WA.ui.banner.openBanner({id:r.questId,text:r.questDescription,bgColor:"#1B1B29",textColor:"#FFFFFF",closable:!1})}});WA.onInit().then(async()=>{WA.room.area.onEnter("triggerM2Quests").subscribe(()=>{WA.player.state.currentQuest="quest9"})});WA.player.state.onVariableChange("terminal-1").subscribe(t=>{t===!0&&(WA.player.state.module2="1",WA.chat.sendChatMessage("Code korrekt, fahre fort mit dem nächsten Raum!","Zirze"),WA.player.state.currentQuest="quest12",h("modul_2",10))});WA.player.state.onVariableChange("terminal-2").subscribe(t=>{t===!0&&(WA.player.state.module2="2",WA.player.state.currentQuest="quest15",h("modul_2",10))});WA.player.state.onVariableChange("module2").subscribe(t=>{if(t==="2"){const n=[],o=[];for(let a=0;a<=19;a++)for(let e=47;e<=89;e++)n.push({x:a,y:e,tile:"green",layer:"green"}),o.push({x:a,y:e,tile:null,layer:"red"});WA.room.setTiles(n),WA.room.setTiles(o),WA.chat.sendChatMessage("Prima, du hast die ersten verlorenen Wortschnipsel gefunden. Diese sind wichtig, um Lord Modrevolt ein für alle Mal aus unserem System zu verbannen. Merk sie dir gut: ist / Wissenschaft / mehr","Zirze")}});const A=["PlanungSelbstmanagement","ThemenfindungGliederung","Literaturrecherche","Lesen","finalQuizTwo"],b={};A.forEach(t=>b[t]=!1);let p=0;for(const t of A)WA.player.state.onVariableChange(t).subscribe(n=>{if(n==="solved"&&t===A[p]&&!b[t]){switch(b[t]=!0,h("modul_2",10),console.log(`Variable "${t}" solved. Level up, +10XP`),p){case 0:WA.player.state.currentQuest="quest10";break;case 1:WA.player.state.currentQuest="quest11";break;case 2:WA.player.state.currentQuest="quest13";break;case 3:WA.player.state.currentQuest="quest14";break;case 4:WA.player.state.currentQuest="quest16"}p++}});let d;WA.room.area.onEnter("2_3Literaturrecherche").subscribe(()=>{d=Date.now()});WA.room.area.onLeave("2_3Literaturrecherche").subscribe(()=>{d&&((Date.now()-d)/1e3>10&&(WA.player.state.Literaturrecherche="solved"),d=void 0)});
//# sourceMappingURL=module2-main-390bc016.js.map
