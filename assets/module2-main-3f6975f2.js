import{c as A,p as W,m as g}from"./footstep-8546c774.js";import{b,g as p,q as d,l as i}from"./quests-98e90cce.js";WA.onInit().then(async()=>{try{await b(),WA.controls.disableInviteButton(),WA.controls.disableMapEditor(),console.log("Scripting API Extra ready")}catch(e){console.error(e)}const s=await p();for(const e of s){let t;WA.room.area.onEnter(e.name).subscribe(()=>{t=WA.ui.displayActionMessage({message:`[LEERTASTE] dr체cken um mit ${e.npcName} zu sprechen.`,callback:()=>{var l;if(WA.chat.sendChatMessage(e.chatText,e.npcName),e.triggerQuest){const o=WA.player.state.currentQuest,u=(l=d.find(c=>c.questId===e.triggerQuest))==null?void 0:l.requireQuest;o===u&&(WA.player.state.currentQuest=e.triggerQuest)}}})}),WA.room.area.onLeave(e.name).subscribe(()=>{t&&(t.remove(),WA.chat.close())})}WA.player.onPlayerMove(async({x:e,y:t,moving:l})=>{var u,c,m;const o=await A({x:e,y:t});if(!o){(u=g)==null||u.stop();return}if(!l&&!o){(c=g)==null||c.stop();return}else(m=g)==null||m.stop(),W(o)});const n=WA.player.state.currentQuest,r=d.find(e=>e.questId===n);r&&a(r.questId),WA.player.state.onVariableChange("currentQuest").subscribe(e=>{const t=d.find(l=>l.questId===e);t&&a(t.questId)});function a(e){const t=d.find(l=>l.questId===e);t&&WA.ui.banner.openBanner({id:t.questId,text:t.questDescription,bgColor:"#1B1B29",textColor:"#FFFFFF",closable:!1})}});WA.onInit().then(async()=>{WA.room.area.onEnter("triggerM2Quests").subscribe(()=>{WA.player.state.currentQuest==="quest8"&&(WA.player.state.currentQuest="quest9")})});WA.onInit().then(async()=>{if(WA.player.state.module2==="2"){const s=[],n=[];for(let r=4;r<=15;r++)for(let a=47;a<=89;a++)s.push({x:r,y:a,tile:"green",layer:"green"}),n.push({x:r,y:a,tile:null,layer:"red"});WA.room.setTiles(s),WA.room.setTiles(n),WA.chat.sendChatMessage("Prima, du hast die ersten verlorenen Wortschnipsel gefunden. Diese sind wichtig, um Lord Modrevolt ein f체r alle Mal aus unserem System zu verbannen. Merk sie dir gut: ist / Wissenschaft / mehr","Zirze")}WA.player.state.onVariableChange("m2terminal1").subscribe(async s=>{if(WA.player.state.module2="1",s==="correct"){WA.chat.sendChatMessage("Code korrekt, fahre fort mit dem n채chsten Raum!","Zirze"),WA.player.state.currentQuest="quest12";const n=[],r=[];for(let e=4;e<=15;e++)for(let t=71;t<=89;t++)n.push({x:e,y:t,tile:"green",layer:"green"}),r.push({x:e,y:t,tile:null,layer:"red"});WA.room.setTiles(n),WA.room.setTiles(r);const a=await WA.nav.getCoWebSites();for(const e of a)e.close()}}),WA.player.state.onVariableChange("m2terminal2").subscribe(async s=>{if(WA.player.state.module2="2",s==="correct"){WA.player.state.currentQuest="quest15";const n=[],r=[];for(let e=4;e<=15;e++)for(let t=47;t<=89;t++)n.push({x:e,y:t,tile:"green",layer:"green"}),r.push({x:e,y:t,tile:null,layer:"red"});WA.room.setTiles(n),WA.room.setTiles(r);const a=await WA.nav.getCoWebSites();for(const e of a)e.close()}}),WA.player.state.onVariableChange("module2").subscribe(s=>{if(s==="2"){const n=[],r=[];for(let a=4;a<=15;a++)for(let e=47;e<=89;e++)n.push({x:a,y:e,tile:"green",layer:"green"}),r.push({x:a,y:e,tile:null,layer:"red"});WA.room.setTiles(n),WA.room.setTiles(r),WA.chat.sendChatMessage("Prima, du hast die ersten verlorenen Wortschnipsel gefunden. Diese sind wichtig, um Lord Modrevolt ein f체r alle Mal aus unserem System zu verbannen. Merk sie dir gut: ist / Wissenschaft / mehr","Zirze"),WA.player.state.currentQuest="quest16"}})});WA.onInit().then(()=>{WA.player.state.onVariableChange("PlanungSelbstmanagement").subscribe(s=>{s==="solved"&&(i("modul_2",10),console.log('Variable "PlanungSelbstmanagement" solved. Level up, +10XP'),WA.player.state.currentQuest="quest10")}),WA.player.state.onVariableChange("ThemenfindungGliederung").subscribe(s=>{s==="solved"&&(i("modul_2",10),console.log('Variable "ThemenfindungGliederung" solved. Level up, +10XP'),WA.player.state.currentQuest="quest11")}),WA.player.state.onVariableChange("Lesen").subscribe(s=>{s==="solved"&&(i("modul_2",10),console.log('Variable "Lesen" solved. Level up, +10XP'),WA.player.state.currentQuest="quest14")}),WA.player.state.onVariableChange("Literaturrecherche").subscribe(s=>{s==="solved"&&(i("modul_2",10),console.log('Variable "Literaturrecherche" solved. Level up, +10XP'),WA.player.state.currentQuest="quest13")}),WA.player.state.onVariableChange("Abschlussquiz2").subscribe(s=>{s==="solved"&&(i("modul_2",10),console.log('Variable "finalQuizTwo" solved. Level up, +10XP'),WA.player.state.currentQuest="quest16")})});
//# sourceMappingURL=module2-main-3f6975f2.js.map
