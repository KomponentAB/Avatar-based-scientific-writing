import{b as p,g as A,q as d,c as b,p as y,l as h,m}from"./quests-92bc981f.js";WA.onInit().then(async()=>{try{await p(),console.log("Scripting API Extra ready")}catch(e){console.error(e)}const a=await A();for(const e of a){let r;WA.room.area.onEnter(e.name).subscribe(()=>{r=WA.ui.displayActionMessage({message:`[LEERTASTE] drÃ¼cken um mit ${e.npcName} zu sprechen.`,callback:()=>{var s;if(WA.chat.sendChatMessage(e.chatText,e.npcName),e.triggerQuest){const o=WA.player.state.currentQuest,u=(s=d.find(n=>n.questId===e.triggerQuest))==null?void 0:s.requireQuest;o===u&&(WA.player.state.currentQuest=e.triggerQuest)}}})}),WA.room.area.onLeave(e.name).subscribe(()=>{r&&(r.remove(),WA.chat.close())})}WA.player.onPlayerMove(async({x:e,y:r,moving:s})=>{var u,n,i;const o=await b({x:e,y:r});if(!o){(u=m)==null||u.stop();return}if(!s&&!o){(n=m)==null||n.stop();return}else(i=m)==null||i.stop(),y(o)});const t=WA.player.state.currentQuest,l=d.find(e=>e.questId===t);l&&c(l.questId),WA.player.state.onVariableChange("currentQuest").subscribe(e=>{const r=d.find(s=>s.questId===e);r&&c(r.questId)});function c(e){const r=d.find(s=>s.questId===e);r&&WA.ui.banner.openBanner({id:r.questId,text:r.questDescription,bgColor:"#1B1B29",textColor:"#FFFFFF",closable:!1})}});function f(a){const{moduleName:t,triggerValue:l,startX:c,endX:e,startY:r,endY:s}=a;if(WA.player.state[t]!==l)return;const o=[],u=[];for(let n=c;n<=e;n++)for(let i=r;i<=s;i++)o.push({x:n,y:i,tile:"green",layer:"green"}),u.push({x:n,y:i,tile:null,layer:"red"});WA.room.setTiles(o),WA.room.setTiles(u)}const g={module_2_1:{max:1,triggerValue:"1",startX:4,endX:15,startY:71,endY:89},module_2_2:{max:3,triggerValue:"3",startX:4,endX:15,startY:47,endY:70}};WA.onInit().then(()=>{for(const a in g){const t=g[a];f({moduleName:a,triggerValue:t.triggerValue,startX:t.startX,endX:t.endX,startY:t.startY,endY:t.endY})}});for(const a in g){const t=g[a];WA.player.state.onVariableChange(a).subscribe(l=>{l===t.triggerValue&&f({moduleName:a,triggerValue:t.triggerValue,startX:t.startX,endX:t.endX,startY:t.startY,endY:t.endY})})}const W=["PlanungSelbstmanagement","Themenfindung","Gliederung","Lesen"];for(const a of W)WA.player.state.onVariableChange(a).subscribe(t=>{h("modul_2",10),console.log(`Variable "${a}" changed to:`,t,"Level up, +10XP")});
//# sourceMappingURL=module2-main-7fc4c744.js.map
