import{c as d,p as y,m as A}from"./footstep-c8191ba7.js";import{b as g,g as m,q as h,l as c}from"./quests-2c2a66d7.js";WA.onInit().then(async()=>{try{await g(),WA.controls.disableInviteButton(),WA.controls.disableMapEditor(),WA.controls.disableRoomList(),console.log("Scripting API Extra ready")}catch(e){console.error(e)}const s=await m();for(const e of s){let r;WA.room.area.onEnter(e.name).subscribe(()=>{r=WA.ui.displayActionMessage({message:`[LEERTASTE] dr√ºcken um mit ${e.npcName} zu sprechen.`,callback:()=>{var o;if(WA.chat.sendChatMessage(e.chatText,e.npcName),e.triggerQuest){const l=WA.player.state.currentQuest,i=(o=h.find(u=>u.questId===e.triggerQuest))==null?void 0:o.requireQuest;l===i&&(WA.player.state.currentQuest=e.triggerQuest)}}}),WA.room.area.onLeave(e.name).subscribe(()=>{WA.chat.close()})}),WA.room.area.onLeave(e.name).subscribe(()=>{r&&(r.remove(),WA.chat.close())})}WA.player.onPlayerMove(async({x:e,y:r,moving:o})=>{var i,u,W;const l=await d({x:e,y:r});if(!l){(i=A)==null||i.stop();return}if(!o&&!l){(u=A)==null||u.stop();return}else(W=A)==null||W.stop(),y(l)}),WA.onInit().then(async()=>{WA.player.state.Abschlussquiz2==="solved"&&WA.room.hideLayer("blockPortals")});const t=WA.player.state.currentQuest,n=h.find(e=>e.questId===t);n&&a(n.questId),WA.player.state.onVariableChange("currentQuest").subscribe(e=>{const r=h.find(o=>o.questId===e);r&&a(r.questId)});function a(e){const r=h.find(o=>o.questId===e);r&&WA.ui.banner.openBanner({id:r.questId,text:r.questDescription,bgColor:"#1B1B29",textColor:"#FFFFFF",timeToClose:0,closable:!1})}});WA.onInit().then(async()=>{WA.room.area.onEnter("triggerM2Quests").subscribe(()=>{WA.player.state.currentQuest==="quest8"&&(WA.player.state.currentQuest="quest9")})});WA.onInit().then(async()=>{if(WA.player.state.module2==="1"){const s=[],t=[];for(let n=4;n<=15;n++)for(let a=71;a<=89;a++)s.push({x:n,y:a,tile:"green",layer:"green"}),t.push({x:n,y:a,tile:null,layer:"red"});WA.room.setTiles(s),WA.room.setTiles(t)}}),WA.onInit().then(async()=>{if(WA.player.state.module2==="2"){const s=[],t=[];for(let n=4;n<=15;n++)for(let a=47;a<=89;a++)s.push({x:n,y:a,tile:"green",layer:"green"}),t.push({x:n,y:a,tile:null,layer:"red"});WA.room.setTiles(s),WA.room.setTiles(t)}});WA.onInit().then(async()=>{WA.player.state.onVariableChange("m2terminal1").subscribe(async s=>{if(WA.player.state.module2="1",s==="correct"){WA.chat.sendChatMessage("Code korrekt, fahre fort mit dem n√§chsten Raum!","Zirze"),WA.player.state.currentQuest="quest12a";const t=[],n=[];for(let e=4;e<=15;e++)for(let r=71;r<=89;r++)t.push({x:e,y:r,tile:"green",layer:"green"}),n.push({x:e,y:r,tile:null,layer:"red"});WA.room.setTiles(t),WA.room.setTiles(n);const a=await WA.nav.getCoWebSites();for(const e of a)e.close()}}),WA.player.state.onVariableChange("m2terminal2").subscribe(async s=>{if(WA.player.state.module2="2",s==="correct"){WA.player.state.currentQuest="quest15";const t=[],n=[];for(let e=4;e<=15;e++)for(let r=47;r<=89;r++)t.push({x:e,y:r,tile:"green",layer:"green"}),n.push({x:e,y:r,tile:null,layer:"red"});WA.room.setTiles(t),WA.room.setTiles(n);const a=await WA.nav.getCoWebSites();for(const e of a)e.close()}}),WA.player.state.onVariableChange("module2").subscribe(s=>{if(s==="2"){const t=[],n=[];for(let a=4;a<=15;a++)for(let e=47;e<=89;e++)t.push({x:a,y:e,tile:"green",layer:"green"}),n.push({x:a,y:e,tile:null,layer:"red"});WA.room.setTiles(t),WA.room.setTiles(n),WA.chat.sendChatMessage(`## üîç Wortschnipsel gefunden!   

 

**Prima!** üéâ Du hast die ersten **verlorenen Wortschnipsel** ‚úÇÔ∏è entdeckt!   

 

Diese sind entscheidend, um **Lord Modrevolt** üíÄ aus unserem System zu **verbannen**.   

üîê **Merk sie dir gut:**   

 

üìù **ist / Wissenschaft / mehr**   

 

üì¢ Halte weiter Ausschau nach fehlenden Fragmenten ‚Äì die Rettung unserer Universit√§t h√§ngt davon ab!    

 `,"Zirze"),WA.player.state.currentQuest="quest16"}})});WA.player.state.onVariableChange("PlanungSelbstmanagement").subscribe({next:s=>{s==="solved"&&(c("modul_2",10),console.log('Variable "PlanungSelbstmanagement" solved. Level up, +10XP'),WA.player.state.currentQuest="quest10",setTimeout(()=>{try{WA.chat&&typeof WA.chat.close=="function"&&WA.chat.close()}catch(t){console.error("Error closing chat:",t)}},5e3))}});WA.player.state.onVariableChange("ThemenfindungGliederung").subscribe({next:s=>{s==="solved"&&(c("modul_2",10),console.log('Variable "ThemenfindungGliederung" solved. Level up, +10XP'),WA.player.state.currentQuest="quest11",setTimeout(()=>{try{WA.chat&&typeof WA.chat.close=="function"&&WA.chat.close()}catch(t){console.error("Error closing chat:",t)}},5e3))}});WA.player.state.onVariableChange("Lesen").subscribe({next:s=>{s==="solved"&&(c("modul_2",10),console.log('Variable "Lesen" solved. Level up, +10XP'),WA.player.state.currentQuest="quest14",setTimeout(()=>{try{WA.chat&&typeof WA.chat.close=="function"&&WA.chat.close()}catch(t){console.error("Error closing chat:",t)}},5e3))}});WA.player.state.onVariableChange("Literaturrecherche").subscribe({next:s=>{s==="solved"&&(c("modul_2",10),console.log('Variable "Literaturrecherche" solved. Level up, +10XP'),WA.player.state.currentQuest="quest13",setTimeout(()=>{try{WA.chat&&typeof WA.chat.close=="function"&&WA.chat.close()}catch(t){console.error("Error closing chat:",t)}},5e3))}});WA.player.state.onVariableChange("Abschlussquiz2").subscribe({next:s=>{s==="solved"&&(WA.room.hideLayer("blockPortals"),c("modul_2",10),console.log('Variable "finalQuizTwo" solved. Level up, +10XP'),WA.player.state.currentQuest="quest16",setTimeout(()=>{try{WA.chat&&typeof WA.chat.close=="function"&&WA.chat.close()}catch(t){console.error("Error closing chat:",t)}},5e3))}});
//# sourceMappingURL=module2-main-69f3aad8.js.map
