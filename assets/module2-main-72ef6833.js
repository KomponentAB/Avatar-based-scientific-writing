import{c as W,p,m as g}from"./footstep-8546c774.js";import{b as m,g as y,q as d,l as i}from"./quests-98e90cce.js";WA.onInit().then(async()=>{try{await m(),WA.controls.disableInviteButton(),WA.controls.disableMapEditor(),console.log("Scripting API Extra ready")}catch(e){console.error(e)}const t=await y();for(const e of t){let s;WA.room.area.onEnter(e.name).subscribe(()=>{s=WA.ui.displayActionMessage({message:`[LEERTASTE] drücken um mit ${e.npcName} zu sprechen.`,callback:()=>{var l;if(WA.chat.sendChatMessage(e.chatText,e.npcName),e.triggerQuest){const o=WA.player.state.currentQuest,u=(l=d.find(c=>c.questId===e.triggerQuest))==null?void 0:l.requireQuest;o===u&&(WA.player.state.currentQuest=e.triggerQuest)}}})}),WA.room.area.onLeave(e.name).subscribe(()=>{s&&(s.remove(),WA.chat.close())})}WA.player.onPlayerMove(async({x:e,y:s,moving:l})=>{var u,c,A;const o=await W({x:e,y:s});if(!o){(u=g)==null||u.stop();return}if(!l&&!o){(c=g)==null||c.stop();return}else(A=g)==null||A.stop(),p(o)});const n=WA.player.state.currentQuest,r=d.find(e=>e.questId===n);r&&a(r.questId),WA.player.state.onVariableChange("currentQuest").subscribe(e=>{const s=d.find(l=>l.questId===e);s&&a(s.questId)});function a(e){const s=d.find(l=>l.questId===e);s&&WA.ui.banner.openBanner({id:s.questId,text:s.questDescription,bgColor:"#1B1B29",textColor:"#FFFFFF",timeToClose:0,closable:!1})}});WA.onInit().then(async()=>{WA.room.area.onEnter("triggerM2Quests").subscribe(()=>{WA.player.state.currentQuest==="quest8"&&(WA.player.state.currentQuest="quest9")})});WA.onInit().then(async()=>{if(WA.player.state.module2==="1"){const t=[],n=[];for(let r=4;r<=15;r++)for(let a=71;a<=89;a++)t.push({x:r,y:a,tile:"green",layer:"green"}),n.push({x:r,y:a,tile:null,layer:"red"});WA.room.setTiles(t),WA.room.setTiles(n)}}),WA.onInit().then(async()=>{if(WA.player.state.module2==="2"){const t=[],n=[];for(let r=4;r<=15;r++)for(let a=47;a<=89;a++)t.push({x:r,y:a,tile:"green",layer:"green"}),n.push({x:r,y:a,tile:null,layer:"red"});WA.room.setTiles(t),WA.room.setTiles(n)}});WA.onInit().then(async()=>{WA.player.state.onVariableChange("m2terminal1").subscribe(async t=>{if(WA.player.state.module2="1",t==="correct"){WA.chat.sendChatMessage("Code korrekt, fahre fort mit dem nächsten Raum!","Zirze"),WA.player.state.currentQuest="quest12";const n=[],r=[];for(let e=4;e<=15;e++)for(let s=71;s<=89;s++)n.push({x:e,y:s,tile:"green",layer:"green"}),r.push({x:e,y:s,tile:null,layer:"red"});WA.room.setTiles(n),WA.room.setTiles(r);const a=await WA.nav.getCoWebSites();for(const e of a)e.close()}}),WA.player.state.onVariableChange("m2terminal2").subscribe(async t=>{if(WA.player.state.module2="2",t==="correct"){WA.player.state.currentQuest="quest15";const n=[],r=[];for(let e=4;e<=15;e++)for(let s=47;s<=89;s++)n.push({x:e,y:s,tile:"green",layer:"green"}),r.push({x:e,y:s,tile:null,layer:"red"});WA.room.setTiles(n),WA.room.setTiles(r);const a=await WA.nav.getCoWebSites();for(const e of a)e.close()}}),WA.player.state.onVariableChange("module2").subscribe(t=>{if(t==="2"){const n=[],r=[];for(let a=4;a<=15;a++)for(let e=47;e<=89;e++)n.push({x:a,y:e,tile:"green",layer:"green"}),r.push({x:a,y:e,tile:null,layer:"red"});WA.room.setTiles(n),WA.room.setTiles(r),WA.chat.sendChatMessage("Prima, du hast die ersten verlorenen Wortschnipsel gefunden. Diese sind wichtig, um Lord Modrevolt ein für alle Mal aus unserem System zu verbannen. Merk sie dir gut: ist / Wissenschaft / mehr","Zirze"),WA.player.state.currentQuest="quest16"}})});WA.onInit().then(()=>{WA.player.state.onVariableChange("PlanungSelbstmanagement").subscribe(t=>{t==="solved"&&(i("modul_2",10),console.log('Variable "PlanungSelbstmanagement" solved. Level up, +10XP'),WA.player.state.currentQuest="quest10")}),WA.player.state.onVariableChange("ThemenfindungGliederung").subscribe(t=>{t==="solved"&&(i("modul_2",10),console.log('Variable "ThemenfindungGliederung" solved. Level up, +10XP'),WA.player.state.currentQuest="quest11")}),WA.player.state.onVariableChange("Lesen").subscribe(t=>{t==="solved"&&(i("modul_2",10),console.log('Variable "Lesen" solved. Level up, +10XP'),WA.player.state.currentQuest="quest14")}),WA.player.state.onVariableChange("Literaturrecherche").subscribe(t=>{t==="solved"&&(i("modul_2",10),console.log('Variable "Literaturrecherche" solved. Level up, +10XP'),WA.player.state.currentQuest="quest13")}),WA.player.state.onVariableChange("Abschlussquiz2").subscribe(t=>{t==="solved"&&(i("modul_2",10),console.log('Variable "finalQuizTwo" solved. Level up, +10XP'),WA.player.state.currentQuest="quest16")})});
//# sourceMappingURL=module2-main-72ef6833.js.map
