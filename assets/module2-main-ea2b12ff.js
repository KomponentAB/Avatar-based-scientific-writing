import{c as m,p as g,m as A}from"./footstep-1b0f56b4.js";import{b as p,g as b,q as d,l as i}from"./quests-9d256112.js";WA.onInit().then(async()=>{try{await p(),WA.controls.disableInviteButton(),WA.controls.disableMapEditor(),console.log("Scripting API Extra ready")}catch(t){console.error(t)}const e=await b();for(const t of e){let n;WA.room.area.onEnter(t.name).subscribe(()=>{n=WA.ui.displayActionMessage({message:`[LEERTASTE] dr체cken um mit ${t.npcName} zu sprechen.`,callback:()=>{var o;if(WA.chat.sendChatMessage(t.chatText,t.npcName),t.triggerQuest){const l=WA.player.state.currentQuest,u=(o=d.find(c=>c.questId===t.triggerQuest))==null?void 0:o.requireQuest;l===u&&(WA.player.state.currentQuest=t.triggerQuest)}}})}),WA.room.area.onLeave(t.name).subscribe(()=>{n&&(n.remove(),WA.chat.close())})}WA.player.onPlayerMove(async({x:t,y:n,moving:o})=>{var u,c,W;const l=await m({x:t,y:n});if(!l){(u=A)==null||u.stop();return}if(!o&&!l){(c=A)==null||c.stop();return}else(W=A)==null||W.stop(),g(l)});const s=WA.player.state.currentQuest,r=d.find(t=>t.questId===s);r&&a(r.questId),WA.player.state.onVariableChange("currentQuest").subscribe(t=>{const n=d.find(o=>o.questId===t);n&&a(n.questId)});function a(t){const n=d.find(o=>o.questId===t);n&&WA.ui.banner.openBanner({id:n.questId,text:n.questDescription,bgColor:"#1B1B29",textColor:"#FFFFFF",closable:!1})}});WA.onInit().then(async()=>{WA.room.area.onEnter("triggerM2Quests").subscribe(()=>{WA.player.state.currentQuest==="quest8"&&(WA.player.state.currentQuest="quest9")})});WA.onInit().then(async()=>{if(WA.player.state.module2==="2"){const e=[],s=[];for(let r=0;r<=19;r++)for(let a=47;a<=89;a++)e.push({x:r,y:a,tile:"green",layer:"green"}),s.push({x:r,y:a,tile:null,layer:"red"});WA.room.setTiles(e),WA.room.setTiles(s),WA.chat.sendChatMessage("Prima, du hast die ersten verlorenen Wortschnipsel gefunden. Diese sind wichtig, um Lord Modrevolt ein f체r alle Mal aus unserem System zu verbannen. Merk sie dir gut: ist / Wissenschaft / mehr","Zirze"),WA.player.state.currentQuest="quest16"}WA.player.state.onVariableChange("m2terminal1").subscribe(async e=>{if(WA.player.state.module2="1",e==="correct"){WA.player.state.module2="1",WA.chat.sendChatMessage("Code korrekt, fahre fort mit dem n채chsten Raum!","Zirze"),WA.player.state.currentQuest="quest12";const s=await WA.nav.getCoWebSites();for(const r of s)r.close()}}),WA.player.state.onVariableChange("m2terminal2").subscribe(async e=>{if(WA.player.state.module2="2",e==="correct"){WA.player.state.currentQuest="quest15";const s=await WA.nav.getCoWebSites();for(const r of s)r.close()}}),WA.player.state.onVariableChange("module2").subscribe(e=>{if(e==="2"){const s=[],r=[];for(let a=0;a<=19;a++)for(let t=47;t<=89;t++)s.push({x:a,y:t,tile:"green",layer:"green"}),r.push({x:a,y:t,tile:null,layer:"red"});WA.room.setTiles(s),WA.room.setTiles(r),WA.chat.sendChatMessage("Prima, du hast die ersten verlorenen Wortschnipsel gefunden. Diese sind wichtig, um Lord Modrevolt ein f체r alle Mal aus unserem System zu verbannen. Merk sie dir gut: ist / Wissenschaft / mehr","Zirze"),WA.player.state.currentQuest="quest16"}})});WA.onInit().then(()=>{WA.player.state.onVariableChange("PlanungSelbstmanagement").subscribe(e=>{e==="solved"&&(i("modul_2",10),console.log('Variable "PlanungSelbstmanagement" solved. Level up, +10XP'),WA.player.state.currentQuest="quest10")}),WA.player.state.onVariableChange("ThemenfindungGliederung").subscribe(e=>{e==="solved"&&(i("modul_2",10),console.log('Variable "ThemenfindungGliederung" solved. Level up, +10XP'),WA.player.state.currentQuest="quest11")}),WA.player.state.onVariableChange("Lesen").subscribe(e=>{e==="solved"&&(i("modul_2",10),console.log('Variable "Lesen" solved. Level up, +10XP'),WA.player.state.currentQuest="quest14")}),WA.player.state.onVariableChange("finalQuizTwo").subscribe(e=>{e==="solved"&&(i("modul_2",10),console.log('Variable "finalQuizTwo" solved. Level up, +10XP'),WA.player.state.currentQuest="quest16")})});WA.onInit().then(()=>{let e;WA.room.area.onEnter("2_3Literaturrecherche").subscribe(()=>{e=Date.now(),console.log("Entered literature area")}),WA.room.area.onLeave("2_3Literaturrecherche").subscribe(()=>{if(e&&WA.player.state.Literaturrecherche!=="solved"){const s=(Date.now()-e)/1e3;s>10&&(WA.player.state.Literaturrecherche="solved",WA.player.state.currentQuest="quest13",i("modul_2",10),console.log(`Spent ${s} seconds in literature area. Level up, +10XP`)),e=void 0}})});
//# sourceMappingURL=module2-main-ea2b12ff.js.map
