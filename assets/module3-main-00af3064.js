import{c as g,p as m,l as i,m as h}from"./quests-f0d62786.js";import{b as A,g as p,q as d}from"./quests-97058ec9.js";WA.onInit().then(async()=>{try{await A(),WA.controls.disableInviteButton(),WA.controls.disableMapEditor(),console.log("Scripting API Extra ready")}catch(t){console.error(t)}const e=await p();for(const t of e){let a;WA.room.area.onEnter(t.name).subscribe(()=>{a=WA.ui.displayActionMessage({message:`[LEERTASTE] drücken um mit ${t.npcName} zu sprechen.`,callback:()=>{var o;if(WA.chat.sendChatMessage(t.chatText,t.npcName),t.triggerQuest){const l=WA.player.state.currentQuest,u=(o=d.find(c=>c.questId===t.triggerQuest))==null?void 0:o.requireQuest;l===u&&(WA.player.state.currentQuest=t.triggerQuest)}}})}),WA.room.area.onLeave(t.name).subscribe(()=>{a&&(a.remove(),WA.chat.close())})}WA.player.onPlayerMove(async({x:t,y:a,moving:o})=>{var u,c,b;const l=await g({x:t,y:a});if(!l){(u=h)==null||u.stop();return}if(!o&&!l){(c=h)==null||c.stop();return}else(b=h)==null||b.stop(),m(l)});const r=WA.player.state.currentQuest,s=d.find(t=>t.questId===r);s&&n(s.questId),WA.player.state.onVariableChange("currentQuest").subscribe(t=>{const a=d.find(o=>o.questId===t);a&&n(a.questId)});function n(t){const a=d.find(o=>o.questId===t);a&&WA.ui.banner.openBanner({id:a.questId,text:a.questDescription,bgColor:"#1B1B29",textColor:"#FFFFFF",closable:!1})}});WA.onInit().then(async()=>{WA.room.area.onEnter("triggerM3Quests").subscribe(()=>{WA.player.state.currentQuest==="quest16"&&(WA.player.state.currentQuest="quest17")})});WA.player.state.onVariableChange("terminal1").subscribe(async e=>{if(e==="correct"&&e==="correct"){WA.player.state.module3="1",WA.chat.sendChatMessage("Schön, dass du wieder da bist! Beginne am besten mit Element 1. Plane für den zweiten Raum ca. 40 Minuten ein. Du kannst jederzeit aufhören und wieder zurückkommen. Vergiss nicht weiterhin nach den Zahlencodes in den Materialien Ausschau zu halten und dir diese zu notieren. Neben den Zahlencodes musst du auch wieder Wortschnipsel finden, die durch Lord Modrevolts Angriff durcheinandergeraten sind.  Viel Erfolg!","Zirze"),WA.player.state.currentQuest="quest21",i("modul_3",10);const r=await WA.nav.getCoWebSites();for(const s of r)s.close()}});WA.player.state.onVariableChange("terminal2").subscribe(async e=>{if(e==="correct"){WA.player.state.module3="2",WA.player.state.currentQuest="quest25",i("modul_3",10);const r=await WA.nav.getCoWebSites();for(const s of r)s.close()}});WA.player.state.onVariableChange("currentQuest").subscribe(e=>{e==="quest26"&&WA.chat.sendChatMessage("Wow, das ging schnell! Du hast beide Räume gemeistert. Ich hoffe du kannst dich noch an alle Wortschnipsel erinnern. Diese musst du nun in richtiger Reihenfolge im Sicherheitsterminal eingeben. Falls du Hilfe brauchst, frag doch deine Kolleg*innen, ob ihr diese Aufgabe zusammen lösen könnt. Ich darf nicht zu viel verraten, aber eine gezielte Recherche könnte durchaus hilfreich sein. Wenn du oder ihr es schafft, können wir Lord Modrevolt endlich aus unserem System entfernen und unsere Sicherheitseinstellungen des Kondensatoriums wieder herstellen. ","Zirze")});WA.onInit().then(()=>{if(WA.player.state.module3==="2"){const e=[],r=[];for(let s=0;s<=19;s++)for(let n=47;n<=89;n++)e.push({x:s,y:n,tile:"green",layer:"green"}),r.push({x:s,y:n,tile:null,layer:"red"});WA.room.setTiles(e),WA.room.setTiles(r),WA.chat.sendChatMessage("Prima, du hast weitere verlorene Wortschnipsel gefunden. Diese sind wichtig, um Lord Modrevolt ein für alle Mal aus unserem System zu verbannen. Merk sie dir gut: zu/ denken/ Art","Zirze")}WA.player.state.onVariableChange("module3").subscribe(e=>{if(e==="2"){const r=[],s=[];for(let n=0;n<=19;n++)for(let t=47;t<=89;t++)r.push({x:n,y:t,tile:"green",layer:"green"}),s.push({x:n,y:t,tile:null,layer:"red"});WA.room.setTiles(r),WA.room.setTiles(s),WA.chat.sendChatMessage("Prima, du hast weitere verlorene Wortschnipsel gefunden. Diese sind wichtig, um Lord Modrevolt ein für alle Mal aus unserem System zu verbannen. Merk sie dir gut: zu/ denken/ Art","Zirze")}})});{let e;WA.room.area.onEnter("3_2_1Zitieren").subscribe(()=>{e=Date.now()}),WA.room.area.onLeave("3_2_1Zitieren").subscribe(()=>{e&&((Date.now()-e)/1e3>10&&(WA.player.state.Zitieren="solved",WA.player.state.currentQuest=void 0,i("modul_3",10)),e=void 0)})}{let e;WA.room.area.onEnter("3_2_2Literaturverzeichnis").subscribe(()=>{e=Date.now()}),WA.room.area.onLeave("3_2_2Literaturverzeichnis").subscribe(()=>{e&&((Date.now()-e)/1e3>10&&(WA.player.state.Literaturverzeichnis="solved"),e=void 0)})}{let e;WA.room.area.onEnter("3_3Literaturverwaltung").subscribe(()=>{e=Date.now()}),WA.room.area.onLeave("3_3Literaturverwaltung").subscribe(()=>{e&&((Date.now()-e)/1e3>10&&(WA.player.state.Literaturverwaltung="solved"),e=void 0)})}WA.player.state.onVariableChange("Textarten").subscribe(e=>{e==="solved"&&(i("modul_3",10),console.log('Variable "Textarten" solved. Level up, +10XP'),WA.player.state.currentQuest="quest18")});WA.player.state.onVariableChange("AllgemeineRegeln").subscribe(e=>{e==="solved"&&(i("modul_3",10),console.log('Variable "AllgemeineRegeln" solved. Level up, +10XP'),WA.player.state.currentQuest="quest19")});WA.player.state.onVariableChange("Sprache").subscribe(e=>{e==="solved"&&(i("modul_3",10),console.log('Variable "Sprache" solved. Level up, +10XP'),WA.player.state.currentQuest="quest20")});WA.player.state.onVariableChange("Zitieren").subscribe(e=>{e==="solved"&&(i("modul_3",10),console.log('Variable "Zitieren" solved. Level up, +10XP'),WA.player.state.currentQuest="quest22")});WA.player.state.onVariableChange("Literaturverzeichnis").subscribe(e=>{e==="solved"&&(i("modul_3",10),console.log('Variable "Literaturverzeichnis" solved. Level up, +10XP'),WA.player.state.currentQuest="quest23")});WA.player.state.onVariableChange("Literaturverwaltung").subscribe(e=>{e==="solved"&&(i("modul_3",10),console.log('Variable "Literaturverwaltung" solved. Level up, +10XP'),WA.player.state.currentQuest="quest24")});WA.player.state.onVariableChange("finalQuizThree").subscribe(e=>{e==="solved"&&(i("modul_3",10),console.log('Variable "finalQuizThree" solved. Level up, +10XP'),WA.player.state.currentQuest="quest26")});
//# sourceMappingURL=module3-main-00af3064.js.map
