import{l as d,b as h,g as m,q as i}from"./quests-9d256112.js";WA.onInit().then(async()=>{console.log("loading main.ts"),WA.controls.disableInviteButton(),WA.controls.disableMapEditor(),WA.player.state.currentQuest||(WA.player.state.currentQuest="quest6"),d("notlog",0);try{await h(),console.log("Scripting API Extra ready")}catch(e){console.error(e)}const s=await m();for(const e of s){let t;WA.room.area.onEnter(e.name).subscribe(()=>{t=WA.ui.displayActionMessage({message:`[LEERTASTE] drücken um mit ${e.npcName} zu sprechen.`,callback:()=>{var o;if(WA.chat.sendChatMessage(e.chatText,e.npcName),e.triggerQuest){const l=WA.player.state.currentQuest,c=(o=i.find(u=>u.questId===e.triggerQuest))==null?void 0:o.requireQuest;l===c&&(WA.player.state.currentQuest=e.triggerQuest)}}})}),WA.room.area.onLeave(e.name).subscribe(()=>{t&&(t.remove(),WA.chat.close())})}const n=WA.player.state.currentQuest,r=i.find(e=>e.questId===n);r&&a(r.questId),WA.player.state.onVariableChange("currentQuest").subscribe(e=>{const t=i.find(o=>o.questId===e);t&&a(t.questId)});function a(e){const t=i.find(o=>o.questId===e);t&&WA.ui.banner.openBanner({id:t.questId,text:t.questDescription,bgColor:"#1B1B29",textColor:"#FFFFFF",closable:!1})}});WA.onInit().then(async()=>{WA.player.state.module2==="solved"&&WA.player.state.module3==="solved"?(WA.room.area.onEnter("finalCodeTerminal").subscribe(()=>{WA.chat.sendChatMessage("enter code","Terminal")}),WA.chat.onChatMessage(async(s,n)=>{n.authorId===void 0&&(s.includes("code")?(WA.chat.sendChatMessage("Your message was correct!","Zirze"),await new Promise(r=>setTimeout(r,2e3)),WA.nav.goToRoom("./notlog-solved.tmj")):WA.chat.sendChatMessage("Error: your message did not contain 'code'.","Terminal"))},{scope:"local"})):WA.room.area.onEnter("finalCodeTerminal").subscribe(()=>{WA.chat.sendChatMessage("Solve module2 and module3 and come back here and enter the correct code to repair the matrix","Terminal")}),WA.room.area.onLeave("finalCodeTerminal").subscribe(()=>{WA.chat.close()})});WA.onInit().then(()=>{function s(){if(WA.player.state.module2==="solved"&&WA.player.state.module3==="solved"){const n=[],r=[];for(let a=0;a<=47;a++)for(let e=0;e<=36;e++)n.push({x:a,y:e,tile:"green",layer:"green"}),r.push({x:a,y:e,tile:null,layer:"red"});WA.room.setTiles(n),WA.room.setTiles(r)}}WA.player.state.onVariableChange("module2").subscribe(s),WA.player.state.onVariableChange("module3").subscribe(s),s()});WA.onInit().then(()=>{const s=WA.player.state.module2==="solved",n=WA.player.state.module3==="solved";s&&n?WA.chat.sendChatMessage("Wow, das ging schnell! Du hast beide Räume gemeistert. Ich hoffe du kannst dich noch an alle Codeschnipsel erinnern. Diese musst du nun in richtiger Reihenfolge im Sicherheitsterminal eingeben. Falls du Hilfe brauchst, frag doch deine Kolleg*innen, ob ihr diese Aufgabe zusammen lösen könnt. Ich darf nicht zu viel verraten, aber eine gezielte Recherche könnte durchaus hilfreich sein. Wenn du oder ihr es schafft, können wir Lord Modrevolt endlich aus unserem System entfernen und unsere Sicherheitseinstellungen des Kondensatoriums wieder herstellen.","Zirze"):s&&WA.chat.sendChatMessage("Hervorragend, dich kann man gebrauchen! Du hast Modul 2 gemeistert und schon einiges über die Techniken des wissenschaftlichen Arbeitens gelernt. Vergiss deine Codeschnipsel nicht, diese sind sehr wichtig. Du bist nun bereit mit Raum 3 weiterzumachen, um mehr über das wissenschaftliche Schreiben zu erfahren. Vergiss nicht nach weiteren Codeschnipseln Ausschau zu halten. Viel Erfolg!","Zirze")});
//# sourceMappingURL=hub-main-f9f916c7.js.map
